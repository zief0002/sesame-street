<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Answer Key">
<meta name="dcterms.date" content="2023-08-07">
<meta name="description" content="This assignment is worth 16 points. Each question is worth 1 point unless otherwise noted.">

<title>Assignment 04</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="assignment-04-introduction-to-multiple-regression-ak_files/libs/clipboard/clipboard.min.js"></script>
<script src="assignment-04-introduction-to-multiple-regression-ak_files/libs/quarto-html/quarto.js"></script>
<script src="assignment-04-introduction-to-multiple-regression-ak_files/libs/quarto-html/popper.min.js"></script>
<script src="assignment-04-introduction-to-multiple-regression-ak_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="assignment-04-introduction-to-multiple-regression-ak_files/libs/quarto-html/anchor.min.js"></script>
<link href="assignment-04-introduction-to-multiple-regression-ak_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="assignment-04-introduction-to-multiple-regression-ak_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="assignment-04-introduction-to-multiple-regression-ak_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="assignment-04-introduction-to-multiple-regression-ak_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="assignment-04-introduction-to-multiple-regression-ak_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<link href="assignment-04-introduction-to-multiple-regression-ak_files/libs/pagedtable/css/pagedtable.css" rel="stylesheet">
<script src="assignment-04-introduction-to-multiple-regression-ak_files/libs/pagedtable/js/pagedtable.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#part-i-correlations" id="toc-part-i-correlations" class="nav-link active" data-scroll-target="#part-i-correlations">Part I: Correlations</a></li>
  <li><a href="#part-ii-regression-analysis" id="toc-part-ii-regression-analysis" class="nav-link" data-scroll-target="#part-ii-regression-analysis">Part II: Regression Analysis</a></li>
  <li><a href="#model-3-interpreting-results-from-the-final-model" id="toc-model-3-interpreting-results-from-the-final-model" class="nav-link" data-scroll-target="#model-3-interpreting-results-from-the-final-model">Model 3: Interpreting Results from the “Final” Model</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignment 04</h1>
<p class="subtitle lead">INTRODUCTION TO MULTIPLE REGRESSION</p>
</div>

<div>
  <div class="description">
    This assignment is worth 16 points. Each question is worth 1 point unless otherwise noted.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Answer Key </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 7, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>


<style type="text/css">
caption, .table-caption {
  text-align: left;
}
</style>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"../assets/notes-setup.R"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>fertility <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"https://raw.githubusercontent.com/zief0002/rustic-penguin/main/data/fertility.csv"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit models</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.1</span> <span class="ot">=</span> <span class="fu">lm</span>(fertility_rate <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> contraceptive,                                  <span class="at">data =</span> fertility)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.2</span> <span class="ot">=</span> <span class="fu">lm</span>(fertility_rate <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> contraceptive <span class="sc">+</span> infant_mortality,               <span class="at">data =</span> fertility)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>lm<span class="fl">.3</span> <span class="ot">=</span> <span class="fu">lm</span>(fertility_rate <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> contraceptive <span class="sc">+</span> infant_mortality <span class="sc">+</span> educ_female, <span class="at">data =</span> fertility)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
<section id="part-i-correlations" class="level2">
<h2 class="anchored" data-anchor-id="part-i-correlations">Part I: Correlations</h2>
<p><strong>1. Examine the structure and formatting of Table 4 at <a href="https://zief0002.github.io/musings/creating-tables-to-present-statistical-results.html#creating-tables-to-present-statistical-results" class="uri">https://zief0002.github.io/musings/creating-tables-to-present-statistical-results.html#creating-tables-to-present-statistical-results</a>. Mimic the format and structure of this table to create a table to present the pairwise correlations between the outcome and each of the predictors, and between each set of predictors. Make sure the table you create also has an appropriate caption. (2pts.)</strong></p>
<div class="cell" data-layout-align="center">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>fertility <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(fertility_rate, contraceptive, infant_mortality, educ_female) <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">correlate</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">shave</span>(<span class="at">upper =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fashion</span>(<span class="at">decimals =</span> <span class="dv">3</span>, <span class="at">na_print =</span> <span class="st">"—"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="fu">c</span>(<span class="st">"1. Fertility rate"</span>, <span class="st">"2. Contraceptive rate"</span>, <span class="st">"3. Infant mortality rate"</span>, <span class="st">"4. Female education level"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">term =</span> <span class="st">"Measure"</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">fertility_rate =</span> <span class="st">"1"</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">contraceptive =</span> <span class="st">"2"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">infant_mortality =</span> <span class="st">"3"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">educ_female =</span> <span class="st">"4"</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_align</span>(</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(term),</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="st">"left"</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_align</span>(</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(fertility_rate, contraceptive, infant_mortality, educ_female),</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="st">"center"</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.width =</span> <span class="fu">pct</span>(<span class="dv">80</span>),</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.align =</span> <span class="st">"left"</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-question-01" class="anchored">

<div id="twzvuqzitp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#twzvuqzitp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#twzvuqzitp thead, #twzvuqzitp tbody, #twzvuqzitp tfoot, #twzvuqzitp tr, #twzvuqzitp td, #twzvuqzitp th {
  border-style: none;
}

#twzvuqzitp p {
  margin: 0;
  padding: 0;
}

#twzvuqzitp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: 0;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 80%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#twzvuqzitp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#twzvuqzitp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#twzvuqzitp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#twzvuqzitp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#twzvuqzitp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#twzvuqzitp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#twzvuqzitp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#twzvuqzitp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#twzvuqzitp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#twzvuqzitp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#twzvuqzitp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#twzvuqzitp .gt_spanner_row {
  border-bottom-style: hidden;
}

#twzvuqzitp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#twzvuqzitp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#twzvuqzitp .gt_from_md > :first-child {
  margin-top: 0;
}

#twzvuqzitp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#twzvuqzitp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#twzvuqzitp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#twzvuqzitp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#twzvuqzitp .gt_row_group_first td {
  border-top-width: 2px;
}

#twzvuqzitp .gt_row_group_first th {
  border-top-width: 2px;
}

#twzvuqzitp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#twzvuqzitp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#twzvuqzitp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#twzvuqzitp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#twzvuqzitp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#twzvuqzitp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#twzvuqzitp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#twzvuqzitp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#twzvuqzitp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#twzvuqzitp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#twzvuqzitp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#twzvuqzitp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#twzvuqzitp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#twzvuqzitp .gt_left {
  text-align: left;
}

#twzvuqzitp .gt_center {
  text-align: center;
}

#twzvuqzitp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#twzvuqzitp .gt_font_normal {
  font-weight: normal;
}

#twzvuqzitp .gt_font_bold {
  font-weight: bold;
}

#twzvuqzitp .gt_font_italic {
  font-style: italic;
}

#twzvuqzitp .gt_super {
  font-size: 65%;
}

#twzvuqzitp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#twzvuqzitp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#twzvuqzitp .gt_indent_1 {
  text-indent: 5px;
}

#twzvuqzitp .gt_indent_2 {
  text-indent: 10px;
}

#twzvuqzitp .gt_indent_3 {
  text-indent: 15px;
}

#twzvuqzitp .gt_indent_4 {
  text-indent: 20px;
}

#twzvuqzitp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Table&nbsp;1:  <p>Intercorrelations between four country-level measures related to
human overpopulation.</p> </caption>
  <thead>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Measure">Measure</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="4">4</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">1. Fertility rate</td>
<td headers="fertility_rate" class="gt_row gt_center">—</td>
<td headers="contraceptive" class="gt_row gt_center">—</td>
<td headers="infant_mortality" class="gt_row gt_center">—</td>
<td headers="educ_female" class="gt_row gt_center">—</td></tr>
    <tr><td headers="term" class="gt_row gt_left">2. Contraceptive rate</td>
<td headers="fertility_rate" class="gt_row gt_center">-.695</td>
<td headers="contraceptive" class="gt_row gt_center">—</td>
<td headers="infant_mortality" class="gt_row gt_center">—</td>
<td headers="educ_female" class="gt_row gt_center">—</td></tr>
    <tr><td headers="term" class="gt_row gt_left">3. Infant mortality rate</td>
<td headers="fertility_rate" class="gt_row gt_center"> .815</td>
<td headers="contraceptive" class="gt_row gt_center">-.703</td>
<td headers="infant_mortality" class="gt_row gt_center">—</td>
<td headers="educ_female" class="gt_row gt_center">—</td></tr>
    <tr><td headers="term" class="gt_row gt_left">4. Female education level</td>
<td headers="fertility_rate" class="gt_row gt_center">-.772</td>
<td headers="contraceptive" class="gt_row gt_center"> .604</td>
<td headers="infant_mortality" class="gt_row gt_center">-.778</td>
<td headers="educ_female" class="gt_row gt_center">—</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
<p><br></p>
<p><strong>2. Use the results from the intercorrelations to evaluate each of the following hypotheses. Explain by referencing your results. (3pts.)</strong></p>
<p>Hypothesis 1 is supported by the empirical data as the correlation coefficient between contraception rate and fertility rate is negative (<span class="math inline">\(r=-.695\)</span>). That is, countries with higher contraception rates tend to have lower fertility rates.</p>
<p>Hypothesis 2 is supported by the empirical data as the correlation coefficient between infant mortality rate and contraception rate is negative (<span class="math inline">\(r=.-.703\)</span>). That is, countries with higher infant mortality rates tend to have lower contraception rates.</p>
<p>Hypothesis 3 is supported by the empirical data as the correlation coefficient between female education level and contraception rate is positive (<span class="math inline">\(r=.604\)</span>). That is, countries with higher levels of female education also tend to have higher contraception rates.</p>
<p><br></p>
</section>
<section id="part-ii-regression-analysis" class="level2">
<h2 class="anchored" data-anchor-id="part-ii-regression-analysis">Part II: Regression Analysis</h2>
<p><strong>3. Examine the structure and formatting of Table 9 at <a href="http://zief0002.github.io/epsy-8251/misc/creating-tables/creating-tables.html" class="uri">http://zief0002.github.io/epsy-8251/misc/creating-tables/creating-tables.html</a>. Mimic the format and structure of this table to create a table to present the numerical information from the three models you fitted in this assignment. Make sure the table you create also has an appropriate caption. If the table is too wide, change the page orientation in your word processing program to “Landscape”, rather than changing the size of the font. (2pts.)</strong></p>

<table style="text-align:center; width:80%;">
<caption>
Table 2<br>Coefficients and 95% confidence intervals for a series of regression models fitted to data from <i>n</i>=124 countries to predict variation in fertility rates.
</caption>
<tbody><tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Measure
</td>
<td>
Model 1
</td>
<td>
Model 2
</td>
<td>
Model 3
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Contraceptive rate
</td>
<td>
-0.05
</td>
<td>
-0.02
</td>
<td>
-0.02
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(-0.06, -0.04)
</td>
<td>
(-0.03, -0.01)
</td>
<td>
(-0.02, -0.01)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Infant mortality rate
</td>
<td>
</td>
<td>
0.04
</td>
<td>
0.02
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.03, 0.05)
</td>
<td>
(0.02, 0.03)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Female education level
</td>
<td>
</td>
<td>
</td>
<td>
-0.13
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(-0.19, -0.07)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
5.52
</td>
<td>
2.71
</td>
<td>
3.88
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(4.97, 6.06)
</td>
<td>
(1.98, 3.45)
</td>
<td>
(3.00, 4.75)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.484
</td>
<td>
0.694
</td>
<td>
0.734
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
1.00
</td>
<td>
0.77
</td>
<td>
0.72
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>

</tbody></table>
<p><br></p>
<p><strong>4. Based on the results of fitting the three models, describe the size and direction of the effect of contraceptive rate on fertility rate and how it changes (or doesn’t) across the three models. Do this by referring to the estimated coefficient and the uncertainty in the parameter estimates. <em>Note:</em> Do not base your response on a <em>p</em>-value. (2pts.)</strong></p>
<p>In all three models the effect of contraceptive rate on fertility rate is negative, even after accounting for any sampling uncertainty (i.e., the CIs for all three models span negative ranges). The size of the effect is fairly small. In Model 1, each 1 percentage point difference in contraceptive rate is associated with between a .04 and .06 percentage point reduction in fertility rate. This effect gets weaker after we control for infant mortality rate in Model 2, and even weaker after controlling for both infant mortality rate and female education level in Model 3.</p>
<p><br></p>
</section>
<section id="model-3-interpreting-results-from-the-final-model" class="level2">
<h2 class="anchored" data-anchor-id="model-3-interpreting-results-from-the-final-model">Model 3: Interpreting Results from the “Final” Model</h2>
<p><strong>5. Report the regression equation from fitting Model 3. Use Equation Editor (or some other program that correctly types mathematical expressions) to typeset the equation correctly.</strong></p>
<p><span class="math display">\[
\hat{\mathrm{Fertility~Rate}}_i = 3.87 - 0.01(\mathrm{Contraceptive~Rate}_i) + 0.02(\mathrm{Infant~Mortality~Rate}_i) - 0.13(\mathrm{Female~Education~Level}_i)
\]</span></p>
<p><br></p>
<p><strong>6. Using output from the ANOVA table, compute and report the value for the model <span class="math inline">\(R^2\)</span>. Show your work for full credit.</strong></p>
<div class="cell" data-layout-align="center">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(lm<span class="fl">.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><span class="math display">\[
\begin{split}
R^2 &amp;= \frac{114.232 + 49.812 + 9.341}{114.232 + 49.812 + 9.341 + 62.868} \\[2ex]
&amp;= \frac{173.385}{236.253} \\[2ex]
&amp;= 0.734
\end{split}
\]</span></p>
<p><br></p>
<p><strong>7. Interpret the value of the model <span class="math inline">\(R^2\)</span> using the context of the data.</strong></p>
<p>Differences in countries’ contraceptive rates, infant mortality rates, and female education levels explain 73.4% of the variation in fertility rates.</p>
<p><br></p>
<p><strong>8. Using symbols, write the omnibus null hypothesis that is tested by the <em>F</em>-statistic in this analysis in two different manners: (1) using the coefficient parameters used in the regression model, and (2) using the variance accounted for parameter.</strong></p>
<p><span class="math display">\[
\begin{split}
&amp;(1) \qquad H_0: \beta_{\mathrm{Contraceptive~Rate}} = \beta_{\mathrm{Infant~Mortality~Rate}} = \beta_{\mathrm{Female~Education~Level}} = 0\\
&amp;(2) \qquad H_0: \rho^2 = 0
\end{split}
\]</span></p>
<p><br></p>
<p><strong>9. Based on the results of the <em>F</em>-test, does the model seem to explain variation in fertility rates? Explain. Note: Here you can use the <em>p</em>-value as evidence, but do not compare this to 0.05.</strong></p>
<p>Yes, the model seems to explain variation in fertility rates, <span class="math inline">\(F(3, 120)=110.3, p&lt;.001\)</span>. The incredibly small <em>p</em>-value suggests that the empirical data are incredibly unlikely given the null hypothesis of no explained variation. This suggests that the model does explain variation in fertility rates</p>
<p><br></p>
<p><strong>10. Interpret the estimated coefficient value associated with the partial effect of contraception.</strong></p>
<p>Each one percentage point difference in contraceptive rates is associated with a <span class="math inline">\(-0.01\)</span> percentage point difference in fertility rates, on average, controlling for differences in infant mortality rates and female education levels.</p>
<p><br></p>
<p><strong>11. Based on the 95% confidence interval for the partial effect of contraception on fertility rate, which parameter values are reasonably compatible with the empirical data? Explain what this implies about the magnitude of the partial effect.</strong></p>
<p>The 95% CI for the partial effect of contraception on fertility rate is <span class="math inline">\([-0.02,-0.01]\)</span>. This suggests that after controlling for differences in infant mortality rates and female education levels, a one percentage point difference in contraceptive rates may be associated with something as low as a <span class="math inline">\(-0.01\)</span> percentage point difference in fertility rate or as high as a <span class="math inline">\(-0.02\)</span> percentage point difference. While we are pretty sure the effect is negative, the uncertainty makes it unclear how large this partial effect really is.</p>
<p><br></p>
<p><strong>12. Create a publication quality plot that displays the results from Model 3. For this plot, put the contraception predictor on the <em>x</em>-axis. Control out the effect of education level by setting this to the mean level of education. Display two separate lines to show the effect of infant mortality rate; a small and large rate based on the data. The two lines should be displayed using different linetypes or colors (or both) so that they can be easily differentiated in the plot. Be sure that the figure is appropriately captioned. (2pts.)</strong></p>
<div class="cell" data-layout-align="center">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fertility, <span class="fu">aes</span>(<span class="at">x =</span> contraceptive, <span class="at">y =</span> fertility_rate)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fl">3.07188</span>, <span class="at">slope =</span> <span class="sc">-</span><span class="fl">0.01486</span>, <span class="at">color =</span> <span class="st">"#56b4e9"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="fl">3.898701</span>, <span class="at">slope =</span> <span class="sc">-</span><span class="fl">0.01486</span>, <span class="at">color =</span> <span class="st">"#e69f00"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Contraceptive rate"</span>) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Predicted fertility rate"</span>) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-question-12" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="assignment-04-introduction-to-multiple-regression-ak_files/figure-html/fig-question-12-1.png" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Model predicted fertility rates as a function of contraceptive rate for countries with infant mortality rates at the 25th (low; solid blue line) and 75th (high; dashed orange line) percentiles. Female education level was controlled out of the model by setting this value to its mean.</figcaption>
</figure>
</div>
</div>
</div>
<p><br></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>